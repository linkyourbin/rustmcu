<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>RUST MCU BLOG</title><link>http://localhost:1313/</link><description>Recent content on RUST MCU BLOG</description><generator>Hugo -- 0.148.2</generator><language>en-us</language><lastBuildDate>Sat, 04 Oct 2025 23:49:08 +0800</lastBuildDate><atom:link href="http://localhost:1313/index.xml" rel="self" type="application/rss+xml"/><item><title>Ssd1306</title><link>http://localhost:1313/py32/ssd1306/</link><pubDate>Sat, 04 Oct 2025 23:49:08 +0800</pubDate><guid>http://localhost:1313/py32/ssd1306/</guid><description/></item><item><title>配置ESP32模板工程，此后的所有工程均可按此流程配置</title><link>http://localhost:1313/esp32/esp-generate-template/</link><pubDate>Mon, 18 Aug 2025 15:38:56 +0800</pubDate><guid>http://localhost:1313/esp32/esp-generate-template/</guid><description>&lt;h1 id="使用esp-generate生成一个初始工程">使用&lt;code>esp-generate&lt;/code>生成一个初始工程&lt;/h1>
&lt;blockquote>
&lt;p>进行此实验前，务必先查看&lt;a href="http://localhost:1313/toolchain/stm32-dev-env-setup/" style="color: #e16054ff; font-weight: bold; font-style: italic;">基础环境搭建&lt;/a>，完成之后，继续完成&lt;a href="http://localhost:1313/toolchain/esp32-dev-setup/" style="color: #e16054ff; font-weight: bold; font-style: italic;">ESP32 Rust环境搭建&lt;/a>，&lt;/p>&lt;/blockquote>
&lt;p>完成以上步骤之后，来到合适的文件目录下，最好是新建一个目录用于存放工程，在此目录下打开终端，输入以下命令，并按下回车（&lt;code>Enter&lt;/code>）。也可以先输入&lt;code>esp-generate&lt;/code>，按下回车（&lt;code>Enter&lt;/code>）之后，再根据提示一步一步选择。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">esp-generate --chip&lt;span class="o">=&lt;/span>esp32c3 esp32c3_embassy_dht11_demo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>稍微解释一下，上面这行命令的作用&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">esp3-generate &lt;span class="c1"># 调用该工具&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--chip&lt;span class="o">=&lt;/span>esp32c3 &lt;span class="c1"># 传入参数，指定芯片具体名称&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">esp32c3_embassy_dht11_demo &lt;span class="c1"># 待生成工程的工程名，推荐使用snake_case（所有单词小写，以下划线分割单词）命名，这是一个传统，也是一个约定，否则可能会有警告&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>此时，命令行会打开一个类似&lt;code>GUI&lt;/code>的界面，使用键盘上的“上下左右”箭头来选择相应的&lt;code>feature&lt;/code>，高亮部分即代表待选中的&lt;code>feature&lt;/code>，按下回车（&lt;code>Enter&lt;/code>）则会选中此项&lt;code>feature&lt;/code>，并且在此&lt;code>feature&lt;/code>前显示&lt;span style="color: green;">✅&lt;/span>&lt;/p>
&lt;p>&lt;img loading="lazy" src="http://localhost:1313/esp32/template-project/esp-generate-00.png">&lt;/p>
&lt;p>&lt;code>feature&lt;/code>前带有&lt;span style="color: gray;">[▶]&lt;/span>符号，表示该&lt;code>feature&lt;/code>含有多个子&lt;code>feature&lt;/code>，使用箭头选中高亮，并且按下回车（&lt;code>Enter&lt;/code>）后，会打开新的界面。&lt;/p>
&lt;p>&lt;img loading="lazy" src="http://localhost:1313/esp32/template-project/esp-generate-01.png">&lt;/p>
&lt;p>此时，高亮区域选中了&lt;code>▶ Flashing, logging and debugging (espflash)&lt;/code>，按下回车（&lt;code>Enter&lt;/code>），来到新的界面。&lt;/p>
&lt;p>&lt;img loading="lazy" src="http://localhost:1313/esp32/template-project/esp-generate-02.png">&lt;/p>
&lt;p>选中下图的&lt;code>feature&lt;/code>，按照从上至下排序，当前选中了&lt;code>2&lt;/code>和&lt;code>3&lt;/code>。&lt;/p>
&lt;p>&lt;img loading="lazy" src="http://localhost:1313/esp32/template-project/esp-generate-03.png">&lt;/p>
&lt;p>注意：&lt;code>1&lt;/code>和&lt;code>2&lt;/code>只能二选一，工程里编写代码时也只能二选一，否则会报错。&lt;/p>
&lt;p>完成选定后，按下&lt;code>ESC&lt;/code>，返回主界面，继续开启&lt;code>feature&lt;/code>。&lt;/p>
&lt;p>此时，高亮区域选中了&lt;code>▶ Optional editor integration&lt;/code>，按下回车（&lt;code>Enter&lt;/code>），来到新的界面。&lt;/p>
&lt;p>&lt;img loading="lazy" src="http://localhost:1313/esp32/template-project/esp-generate-04.png">&lt;/p>
&lt;p>这个界面主要是选择你将要使用的编辑器，选定之后，可以自动配置工程适应编辑器，打开后不会报错，并且会推荐安装部分插件。&lt;/p>
&lt;p>&lt;img loading="lazy" src="http://localhost:1313/esp32/template-project/esp-generate-05.png">&lt;/p>
&lt;p>选定上图&lt;code>feature&lt;/code>后，继续按下&lt;code>ESC&lt;/code>，回到主界面。&lt;/p>
&lt;p>此时，我们已经选定了所有&lt;code>feature&lt;/code>，按下&lt;code>S&lt;/code>即&lt;code>Save&lt;/code>，即可保存并且生成工程。终端里也会有提示信息。&lt;/p>
&lt;p>&lt;img loading="lazy" src="http://localhost:1313/esp32/template-project/esp-generate-06.png">&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">🆗 Rust &lt;span class="o">(&lt;/span>stable&lt;span class="o">)&lt;/span>: 1.89.0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">🆗 espflash: 4.0.1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">🆗 probe-rs: 0.29.1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>至此，创建工程模板就已经完成了，之后所有的工程模板都是一样的操作流程，不同时期配置的工具链，以上工具版本信息不一致是正常现象。&lt;/p></description></item><item><title>ESP32C3读取DHT11温湿度信息</title><link>http://localhost:1313/esp32/esp32c3_dht11/</link><pubDate>Mon, 18 Aug 2025 14:38:28 +0800</pubDate><guid>http://localhost:1313/esp32/esp32c3_dht11/</guid><description>&lt;h1 id="前言和实验结果">前言和实验结果&lt;/h1>
&lt;blockquote>
&lt;p>跳过&lt;code>Hello World&lt;/code>，即点亮&lt;code>LED&lt;/code>，直接实战读取&lt;code>DHT11&lt;/code>温湿度传感器。&lt;/p>&lt;/blockquote>
&lt;p>&lt;img loading="lazy" src="http://localhost:1313/memes/exhausted.jpg">&lt;/p>
&lt;p>最后实现的效果如下。&lt;/p>
&lt;p>&lt;img loading="lazy" src="http://localhost:1313/esp32/esp32c3/dht11/dht11-measuring-result.png">&lt;/p>
&lt;blockquote>
&lt;p>如上图，可以在终端&lt;code>Terminal&lt;/code>里直接看到&lt;code>DHT11&lt;/code>测量到的温湿度信息，无需额外的串口。终端里也支持中文信息输出，感兴趣可以自己上手实测。&lt;/p>&lt;/blockquote>
&lt;h1 id="使用esp-generate生成模板工程">使用&lt;code>esp-generate&lt;/code>生成模板工程&lt;/h1>
&lt;blockquote>
&lt;p>由于过程具有重复性，故不再重复演示，请点击跳转&lt;a href="http://localhost:1313/esp32/esp-generate-template/" style="color: #e16054ff; font-weight: bold; font-style: italic;">使用esp-generate生成一个ESP32初始工程&lt;/a>&lt;/p>&lt;/blockquote>
&lt;h1 id="打开工程">打开工程&lt;/h1>
&lt;ul>
&lt;li>导入需要用到的&lt;code>crate&lt;/code>，在工程根目录下打开终端，输入以下命令，并按下回车（&lt;code>Enter&lt;/code>）&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-rust" data-lang="rust">&lt;span class="line">&lt;span class="cl">&lt;span class="n">cargo&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">add&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">esp32&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">dht11&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">rs&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在&lt;code>main.rs&lt;/code>里输入以下代码&lt;/p>
&lt;ul>
&lt;li>在头部的位置，先引入需要使用的&lt;code>crate&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-rust" data-lang="rust">&lt;span class="line">&lt;span class="cl">&lt;span class="k">use&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">esp32_dht11_rs&lt;/span>::&lt;span class="p">{&lt;/span>&lt;span class="no">DHT11&lt;/span>&lt;span class="p">};&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">use&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">esp_hal&lt;/span>::&lt;span class="n">delay&lt;/span>::&lt;span class="n">Delay&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>接着，来到&lt;code>main&lt;/code>函数里&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-rust" data-lang="rust">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">delay&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Delay&lt;/span>::&lt;span class="n">new&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">let&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">mut&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">dht11&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="no">DHT11&lt;/span>::&lt;span class="n">new&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">peripherals&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="no">GPIO0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">delay&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">let&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">mut&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">dht11_read_counter&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>再将以下内容复制到&lt;code>loop&lt;/code>函数里&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-rust" data-lang="rust">&lt;span class="line">&lt;span class="cl">&lt;span class="k">match&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">dht11&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">read&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nb">Ok&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="fm">println!&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;DHT11 TEMP is: &lt;/span>&lt;span class="si">{}&lt;/span>&lt;span class="s">℃ DHT11 HUMI is:&lt;/span>&lt;span class="si">{}&lt;/span>&lt;span class="s">% measuring for [NO.&lt;/span>&lt;span class="si">{:?}&lt;/span>&lt;span class="s">] time&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">temperature&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">humidity&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">dht11_read_counter&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nb">Err&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">error&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="fm">println!&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;error occured: &lt;/span>&lt;span class="si">{:?}&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">error&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Timer&lt;/span>::&lt;span class="n">after_millis&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2000&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="k">await&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">dht11_read_counter&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>
&lt;p>断电前提下，连接硬件&lt;/p></description></item><item><title>一分钟，搭建Rust RP 2040/2350 Pico(2)开发环境</title><link>http://localhost:1313/toolchain/rpx-picox-dev-setup/</link><pubDate>Sun, 17 Aug 2025 14:14:23 +0800</pubDate><guid>http://localhost:1313/toolchain/rpx-picox-dev-setup/</guid><description>&lt;p>由于已经在&lt;code>五分钟，带你从安装STM32 Rust嵌入式开发环境，到脱离苦海&lt;/code>这篇博客里详细展示了如何搭建&lt;code>基座环境&lt;/code>，故本篇博客，不会从头开始，只需要安装对应的&lt;code>target&lt;/code>即可。&lt;/p>
&lt;p>查阅官网资料得知：&lt;/p>
&lt;p>&lt;code>RP 2040 Pico&lt;/code>部分重要信息如下&lt;/p>
&lt;ul>
&lt;li>Dual ARM Cortex-M0+ @ 133MHz&lt;/li>
&lt;/ul>
&lt;p>打开终端，安装对应的&lt;code>target&lt;/code>（理解为交叉编译工具）&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">rustup target add thumbv6m-none-eabi
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>RP 2350 Pico2&lt;/code>部分重要信息如下&lt;/p>
&lt;ul>
&lt;li>Dual Cortex-M33 or Hazard3 processors at 150 MHz
打开终端，安装对应的&lt;code>target&lt;/code>（理解为交叉编译工具）&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">rustup target add thumbv8m.main-none-eabihf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>之后更新的教程，会侧重使用&lt;code>RP 2350 Pico2&lt;/code>进行演示。&lt;/p></description></item><item><title>一分钟，搭建ESP32 Rust开发环境</title><link>http://localhost:1313/toolchain/esp32-dev-setup/</link><pubDate>Sun, 17 Aug 2025 13:49:27 +0800</pubDate><guid>http://localhost:1313/toolchain/esp32-dev-setup/</guid><description>&lt;h1 id="注意">注意&lt;/h1>
&lt;p>由于一部分工具链可以复用，理解为将之前的开发环境作为基座，所以不再要求从头开始单独配置&lt;code>ESP32&lt;/code>的开发环境，请先阅读完&lt;code>五分钟，带你从安装STM32 Rust嵌入式开发环境，到脱离苦海&lt;/code>这篇博客，再继续接下来的操作。&lt;/p>
&lt;hr>
&lt;h1 id="按照顺序执行以下命令">按照顺序，执行以下命令&lt;/h1>
&lt;p>只要完成了&lt;code>基座环境&lt;/code>的搭建，以下步骤就不会出错，故不再搭配图片说明。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 根据模板生成工程&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cargo install esp-generate
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># esp32开发包安装工具&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cargo binstall espup
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 安装esp32开发包&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">espup install
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 安装烧录工具&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cargo install espflash
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="完成以上步骤之后esp32的开发环境就搭建完毕了恭喜你的技术栈又丰富了许多">完成以上步骤之后，&lt;code>ESP32&lt;/code>的开发环境就搭建完毕了。恭喜，你的技术栈又丰富了许多。&lt;/h2></description></item><item><title>五分钟，搭建Rust嵌入式开发环境</title><link>http://localhost:1313/toolchain/stm32-dev-env-setup/</link><pubDate>Fri, 15 Aug 2025 20:53:18 +0800</pubDate><guid>http://localhost:1313/toolchain/stm32-dev-env-setup/</guid><description>&lt;p>本篇博客搭建了一个&lt;code>Rust&lt;/code>嵌入式开发的基础环境，不同的芯片，只需要在此基础上安装对应的&lt;code>toolchain&lt;/code>和&lt;code>target&lt;/code>即可，由于是&lt;code>Windows&lt;/code>环境，为了最完美的兼容和适配，我们选择&lt;code>MSVC&lt;/code>而不是&lt;code>GNU&lt;/code>，这是长期实践下来比较完美的方案，若你是新手，无脑照抄即可。&lt;/p>
&lt;h1 id="安装rust">安装&lt;code>Rust&lt;/code>&lt;/h1>
&lt;p>若使用国内的网络直连，安装&lt;code>Rust&lt;/code>时可能会耗费大量时间在下载环节，所以先配置一下代理（合理合法，免费使用）。&lt;/p>
&lt;ul>
&lt;li>
&lt;p>浏览器搜索并打开&lt;a href="rsproxy.cn">&lt;code>rsproxy.cn&lt;/code>&lt;/a>，可以看到其主页介绍的用法是&lt;code>Linux&lt;/code>/&lt;code>MAC&lt;/code>系统下的常用方式，我们侧重介绍如何在&lt;code>Windows&lt;/code>系统下配置，&lt;code>Windows 10&lt;/code>/&lt;code>Windows 11&lt;/code>均可。
&lt;img loading="lazy" src="http://localhost:1313/toolchain-images/rsproxy_main_page.png">&lt;/p>
&lt;/li>
&lt;li>
&lt;p>按下键盘上的&lt;code>Win&lt;/code>键，输入&lt;code>edit environment variables for your account&lt;/code>/&lt;code>环境变量&lt;/code>，打开环境变量编辑页面。
&lt;img loading="lazy" src="http://localhost:1313/toolchain-images/env_variable_overview.png">
图上是已经配置好的效果，具体操作方法如下&lt;/p>
&lt;ul>
&lt;li>点击&lt;code>Edit&lt;/code>/&lt;code>编辑&lt;/code>，将&lt;code>RUSTUP_DIST_SERVER&lt;/code>和&lt;code>https://rsproxy.cn&lt;/code>，依次填入相应位置
&lt;img loading="lazy" src="http://localhost:1313/toolchain-images/rsproxy_server.png">&lt;/li>
&lt;li>如法炮制，再将&lt;code>RUSTUP_UPDATE_ROOT&lt;/code>和&lt;code>https://rsproxy.cn/rustup&lt;/code>填入相应位置
&lt;img loading="lazy" src="http://localhost:1313/toolchain-images/rsproxy_updateroot.png">&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>安装&lt;code>Rust&lt;/code>&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://static.rust-lang.org/rustup/dist/x86_64-pc-windows-msvc/rustup-init.exe">&lt;code>Rust Installer&lt;/code>&lt;/a>，点击直接下载&lt;/li>
&lt;li>下载完成后，双击打开即可
&lt;img loading="lazy" src="http://localhost:1313/toolchain-images/rust_install_00.png">&lt;/li>
&lt;li>输入&lt;code>1&lt;/code>，按下回车（&lt;code>Enter&lt;/code>），之后的弹窗继续点击&lt;code>Yes&lt;/code>&lt;/li>
&lt;li>继续点击&lt;code>Continue&lt;/code>
&lt;img loading="lazy" src="http://localhost:1313/toolchain-images/rust_install_01.png">
&lt;img loading="lazy" src="http://localhost:1313/toolchain-images/rust_install_02.png">&lt;/li>
&lt;li>点击&lt;code>Install&lt;/code>
&lt;img loading="lazy" src="http://localhost:1313/toolchain-images/rust_install_03.png">&lt;/li>
&lt;li>等待进度条跑完
&lt;img loading="lazy" src="http://localhost:1313/toolchain-images/rust_install_04.png">&lt;/li>
&lt;li>完成
&lt;img loading="lazy" src="http://localhost:1313/toolchain-images/rust_install_05.png">&lt;/li>
&lt;li>完成以上步骤之后，&lt;code>Rust Installer&lt;/code>会继续引导我们完成接下来的步骤
&lt;ul>
&lt;li>可以看到，已经识别到了&lt;code>host&lt;/code>, &lt;code>toolchain&lt;/code>等信息
&lt;img loading="lazy" src="http://localhost:1313/toolchain-images/rust_install_06.png">&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>现在输入&lt;code>2&lt;/code>，并且按下回车（&lt;code>Enter&lt;/code>）确认
&lt;img loading="lazy" src="http://localhost:1313/toolchain-images/rust_install_07.png">&lt;/li>
&lt;li>继续回车（&lt;code>Enter&lt;/code>）
&lt;img loading="lazy" src="http://localhost:1313/toolchain-images/rust_install_08.png">&lt;/li>
&lt;li>输入&lt;code>nightly&lt;/code>，继续回车（&lt;code>Enter&lt;/code>）
&lt;img loading="lazy" src="http://localhost:1313/toolchain-images/rust_install_09.png">&lt;/li>
&lt;li>接下来一直点回车（&lt;code>Enter&lt;/code>）即可，以下是安装过程，耐心等待即可
&lt;img loading="lazy" src="http://localhost:1313/toolchain-images/rust_install_10.png">&lt;/li>
&lt;li>命令行窗口提示：&lt;code>Rust is installed now. Great!&lt;/code>，则说明安装成功
&lt;img loading="lazy" src="http://localhost:1313/toolchain-images/rust_install_11.png">&lt;/li>
&lt;li>按下回车（&lt;code>Enter&lt;/code>）即可&lt;/li>
&lt;li>打开&lt;code>Visual Studio Installer&lt;/code>，安装一些必备组件，之后编译项目或者工具的时候需要用到，点击&lt;code>Modify&lt;/code>
&lt;img loading="lazy" src="http://localhost:1313/toolchain-images/rust_install_12.png">&lt;/li>
&lt;li>勾选&lt;code>Desktop development with C++&lt;/code>，点击&lt;code>Modify&lt;/code>，之后的弹窗点击&lt;code>Yes&lt;/code>即可
&lt;img loading="lazy" src="http://localhost:1313/toolchain-images/rust_install_13.png">&lt;/li>
&lt;li>等待进度条跑满（下载速度能到&lt;code>100MB/s&lt;/code>，使用&lt;code>SSD&lt;/code>的情况下，估计两分钟就完成了）
&lt;img loading="lazy" src="http://localhost:1313/toolchain-images/rust_install_14.png">&lt;/li>
&lt;li>安装完成会再次回到这个界面，关闭即可
&lt;img loading="lazy" src="http://localhost:1313/toolchain-images/rust_install_15.png">&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>若只是安装&lt;code>Rust&lt;/code>，并且只是用标准库（无法做嵌入式开发），则完成以上步骤即可，但&lt;code>Rust&lt;/code>嵌入式会频繁使用到&lt;a href="https://crates.io/">&lt;code>crates.io&lt;/code>&lt;/a>的一些&lt;code>crate&lt;/code>（理解成其他语言的库/模块），所以还需要配置拉取&lt;code>rsproxy&lt;/code>提供的镜像（一分钟更新一次，可以近似理解为不会过时），具体操作步骤如下&lt;/p>
&lt;ul>
&lt;li>按下&lt;code>Win&lt;/code>+&lt;code>E&lt;/code>，打开资源管理器，进入&lt;code>C&lt;/code>盘下的&lt;code>user&lt;/code>目录，进入当前用户目录（我的是&lt;code>Admin&lt;/code>，顺便一提，用户名最好是英文或者数字，不要用中文或者夹杂一些其他符号），继续进入&lt;code>.cargo&lt;/code>目录，如果顺利，你当前的&lt;code>PWD&lt;/code>应该类似是这样的：&lt;code>C:\Users\Admin\.cargo&lt;/code>，紧接着复制&lt;code>rsproxy&lt;/code>主页代码块里的配置文件
&lt;img loading="lazy" src="http://localhost:1313/toolchain-images/rsproxy_crates_io.png">&lt;/li>
&lt;li>在当前目录下（&lt;code>C:\Users\Admin\.cargo&lt;/code>）新建一个&lt;code>config.toml&lt;/code>文件，将以下&lt;code>toml&lt;/code>配置，粘贴进去（可以新建一个&lt;code>config.txt&lt;/code>文件，将内容粘贴进去后，再将后缀更改为&lt;code>toml&lt;/code>即可）&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml" data-lang="toml">&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">source&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">crates-io&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">replace-with&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s1">&amp;#39;rsproxy-sparse&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">source&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">rsproxy&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">registry&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;https://rsproxy.cn/crates.io-index&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">source&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">rsproxy-sparse&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">registry&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;sparse+https://rsproxy.cn/index/&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">registries&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">rsproxy&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">index&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;https://rsproxy.cn/crates.io-index&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">net&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">git-fetch-with-cli&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="安装实用工具">安装实用工具&lt;/h1>
&lt;ul>
&lt;li>代码编辑软件和插件
&lt;ul>
&lt;li>软件
&lt;ul>
&lt;li>选用&lt;code>vscode&lt;/code>作为编辑器足矣
&lt;ul>
&lt;li>至于&lt;code>nvim&lt;/code>和&lt;code>zed&lt;/code>或者是其余的&lt;code>editor&lt;/code>/&lt;code>IDE&lt;/code>，并不适合新手入门，而且&lt;code>vscode&lt;/code>也不算过时&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>插件
&lt;ul>
&lt;li>&lt;code>rust-lang.rust-analyzer&lt;/code>：提供&lt;code>Rust LSP&lt;/code>，当前最优秀的&lt;code>Rust&lt;/code>语言服务器，&lt;code>vscode + RA&lt;/code>的好用程度远超&lt;code>JetBrains&lt;/code>家的&lt;code>RustRover&lt;/code>&lt;/li>
&lt;li>&lt;code>fill-labs.dependi&lt;/code>：帮助管理&lt;code>crate&lt;/code>，更直观的看到当前工程下&lt;code>crate&lt;/code>的版本信息&lt;/li>
&lt;li>&lt;code>tamasfe.even-better-toml&lt;/code>：提供&lt;code>toml&lt;/code>语法高亮和补全&lt;/li>
&lt;li>&lt;code>probe-rs.probe-rs-debugger&lt;/code>：调试服务器
&lt;ul>
&lt;li>以上所有插件，直接复制名称，粘贴在&lt;code>vscode&lt;/code>的插件市场的搜索栏里，回车搜索，点击安装即可&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>安装交叉编译工具链和下常用工具
&lt;ul>
&lt;li>打开命令行，输入以下命令，并按下回车（&lt;code>Enter&lt;/code>），按照顺序执行即可&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 请自行查阅数据手册确定自己的芯片架构和硬件浮点支持&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Cortex-M0 和 Cortex-M0+（无硬件浮点）&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rustup target add thumbv6m-none-eabi
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Cortex-M3（无硬件浮点）&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rustup target add thumbv7m-none-eabi
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Cortex-M4（无硬件浮点）和 Cortex-M7（无硬件浮点）&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rustup target add thumbv7em-none-eabi
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Cortex-M4F（带硬件浮点）和 Cortex-M7F（带硬件浮点）&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rustup target add thumbv7em-none-eabihf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 安装 cargo-binstall，用于快速安装已打包的工具&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cargo install cargo-binstall
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 安装二进制工具（如 objdump/size 等）&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cargo install cargo-binutils
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 安装 probe-rs 相关调试工具（后续用于烧录/调试）&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 执行完之后，会要求输入yes/no，输入yes，回车即可&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cargo binstall probe-rs-tools
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>安装以上工具时，会先拉取依赖的&lt;code>crate&lt;/code>，再进行编译，&lt;code>CPU&lt;/code>会瞬间跑满，风扇起飞，给出一个执行&lt;code>cargo install cargo-binstall&lt;/code>的参考
&lt;img loading="lazy" src="http://localhost:1313/toolchain-images/tools_compling_process.png">&lt;/li>
&lt;/ul>
&lt;p>综上，搭建了一个基础的&lt;code>Rust&lt;/code>嵌入式开发环境，之后的教程主要使用&lt;code>STM32&lt;/code>, &lt;code>ESP32&lt;/code>, &lt;code>RP2040 Pico, RP2350 Pico2&lt;/code>等&lt;code>MCU&lt;/code>进行演示。&lt;/p></description></item><item><title>Blinky</title><link>http://localhost:1313/rp/blinky/</link><pubDate>Thu, 14 Aug 2025 19:00:25 +0800</pubDate><guid>http://localhost:1313/rp/blinky/</guid><description/></item><item><title>博客介绍</title><link>http://localhost:1313/home/intro/</link><pubDate>Thu, 14 Aug 2025 18:40:05 +0800</pubDate><guid>http://localhost:1313/home/intro/</guid><description>&lt;hr>
&lt;h1 id="overview">Overview🦀&lt;/h1>
&lt;blockquote>
&lt;p>What offered？&lt;/p>&lt;/blockquote>
&lt;ul>
&lt;li>基础的&lt;code>Rust&lt;/code>嵌入式知识。
&lt;ul>
&lt;li>防止劝退，不会从寄存器开发讲起，大多数时候，仅会演示如何编写模块驱动，或是协调多个模块工作。&lt;/li>
&lt;li>关键词
&lt;ul>
&lt;li>&lt;code>vscode&lt;/code> ：“最好用”的代码编辑器&lt;/li>
&lt;li>&lt;code>bash&lt;/code> ：编写特定的自动化脚本&lt;/li>
&lt;li>&lt;code>python&lt;/code> ：图像处理，简单&lt;code>GUI&lt;/code>快速实现，自动化脚本编写&lt;/li>
&lt;li>&lt;code>probe-rs&lt;/code> ：调试嵌入式程序，或许你没听过，但这不是重点&lt;/li>
&lt;li>&lt;code>STM32CubeMX&lt;/code> ：查看&lt;code>STM32&lt;/code>系列芯片的外设，利好&lt;code>PCB&lt;/code>设计&lt;/li>
&lt;li>&lt;code>Adobe illustrator&lt;/code>：快速绘制异形板框&lt;/li>
&lt;li>&lt;code>Anaconda&lt;/code> ：管理&lt;code>Python&lt;/code>开发环境，一个开发场景使用一个特定的&lt;code>Python&lt;/code>环境&lt;/li>
&lt;li>&lt;code>embassy&lt;/code> ：&lt;code>Rust&lt;/code>嵌入式的异步框架，目前较为成熟的开发框架&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>2/4&lt;/code>层PCB设计知识，快速验证Demo
&lt;ul>
&lt;li>&lt;code>KiCAD&lt;/code> ：开源PCB设计软件&lt;/li>
&lt;li>&lt;code>Altium Designer(trial version)&lt;/code> ： 芯片原厂都在使用的PCB设计软件&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h1 id="me--rustmcu">me &amp;amp; rustmcu&lt;/h1>
&lt;ul>
&lt;li>MCU
&lt;ul>
&lt;li>STM32
&lt;ul>
&lt;li>Fxx&lt;/li>
&lt;li>Hxx&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ESP32
&lt;ul>
&lt;li>ESP32C3&lt;/li>
&lt;li>ESP32C6&lt;/li>
&lt;li>ESP32S3&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>RP Pico
&lt;ul>
&lt;li>RP2040 Pico&lt;/li>
&lt;li>Rp235x Pico2&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>现在还是学生，尚未工作&lt;/li>
&lt;li>建站仅是记录，顺便分享&lt;/li>
&lt;li>教程未必严谨，按需学习&lt;/li>
&lt;/ul></description></item><item><title>00：点亮LED（GPIO）</title><link>http://localhost:1313/stm32/blinky/</link><pubDate>Thu, 14 Aug 2025 18:39:34 +0800</pubDate><guid>http://localhost:1313/stm32/blinky/</guid><description>&lt;hr>
&lt;p>&lt;img loading="lazy" src="http://localhost:1313/memes/exhausted.jpg">&lt;/p>
&lt;h1 id="硬件准备">硬件准备&lt;/h1>
&lt;ul>
&lt;li>&lt;code>STM32&lt;/code>开发板*1&lt;/li>
&lt;li>烧录器*1
&lt;ul>
&lt;li>推荐使用&lt;code>ST-Link&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>LED&lt;/code>*1
&lt;ul>
&lt;li>若有板载&lt;code>LED&lt;/code>，则无需准备&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>杜邦线若干&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h1 id="硬件接线">硬件接线&lt;/h1>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Peri&lt;/th>
&lt;th>STM32&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>LED&lt;/td>
&lt;td>PC0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ST-Link SWDIO&lt;/td>
&lt;td>SWDIO/PA13&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ST-Link SWCLK&lt;/td>
&lt;td>SWCLk/PA14&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ST-Link GND&lt;/td>
&lt;td>GND&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ST-Link 3V3&lt;/td>
&lt;td>3V3&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>电路部分，如上表即可，不涉及其他外设，这样简单接线就可以工作，但是更推荐的做法是，使用&lt;code>Type-C/USB&lt;/code>给板子&lt;code>5V&lt;/code>供电，&lt;code>5V&lt;/code>直流通过&lt;code>LDO&lt;/code>或者&lt;code>DC/DC&lt;/code>转为&lt;code>3V3&lt;/code>后再给相应外设板子供电，这样会更稳定，若是部分外设需要&lt;code>5V&lt;/code>供电，但系统里并未接入&lt;code>5V&lt;/code>直流，则会导致外设无响应，或工作不正常，这是需要注意的一个点。&lt;/p>
&lt;hr>
&lt;h1 id="创建工程">创建工程&lt;/h1>
&lt;p>一般来说，可以直接使用一些别人写好的工具来创建模板（在&lt;code>crates.io&lt;/code>上可以找到），类似&lt;code>esp-generate&lt;/code>这样的工具，但是，由于&lt;code>rust+embassy&lt;/code>一直都很活跃，使用别人的模板，难以保证体验最新特性，所以，介绍一下如何从&lt;code>cargo new xxx&lt;/code>开始一个嵌入式&lt;code>rust&lt;/code>的工程。&lt;/p>
&lt;h2 id="创建空白工程">创建空白工程&lt;/h2>
&lt;ol>
&lt;li>创建一个空白工程&lt;/li>
&lt;/ol>
&lt;p>打开终端，输入：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">cargo new stm32_blinky
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>注意：工程名最好是&lt;code>snake_case&lt;/code>。
&lt;img loading="lazy" src="http://localhost:1313/stm32/01-blinky/00_new_project.png">&lt;/p>
&lt;ol start="2">
&lt;li>使用&lt;code>vscode&lt;/code>打开所创建的工程&lt;/li>
&lt;/ol>
&lt;p>工程目录如下图所示，标准的&lt;code>hello world&lt;/code>工程。&lt;/p>
&lt;p>&lt;img loading="lazy" src="http://localhost:1313/stm32/01-blinky/01_open_project.png">&lt;/p>
&lt;h2 id="移植embassy">移植&lt;code>embassy&lt;/code>&lt;/h2>
&lt;p>参考&lt;code>embassy&lt;/code>仓库的工程进行工程移植，点击跳转&lt;a href="https://github.com/embassy-rs/embassy/tree/main/examples/stm32f4">&lt;code>embassy stm32f4 examples&lt;/code>&lt;/a>&lt;/p>
&lt;p>在自己的工程根目录里创建两个目录，并且新建文件&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-plaintext" data-lang="plaintext">&lt;span class="line">&lt;span class="cl">.config/config.toml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">.vscode/settings.json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>将以下图中内容，复制到&lt;code>.cargo/config.toml&lt;/code>里
&lt;img loading="lazy" src="http://localhost:1313/stm32/01-blinky/02_embassy_config.png">&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml" data-lang="toml">&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="s1">&amp;#39;cfg(all(target_arch = &amp;#34;arm&amp;#34;, target_os = &amp;#34;none&amp;#34;))&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># replace STM32F407VETx with your chip as listed in `probe-rs chip list`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">runner&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;probe-rs run --chip STM32F407VETx&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">build&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">target&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;thumbv7em-none-eabihf&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">env&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">DEFMT_LOG&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;trace&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>注意：以上内容并不是照抄，需要按照自己的开发板具体型号来适配芯片名称（&lt;code>--chip xxx&lt;/code>），还有编译器（&lt;code>target = &amp;quot;xxx&amp;quot;&lt;/code>）。&lt;/p></description></item><item><title>杂记/小记/章节介绍</title><link>http://localhost:1313/miscellanea/miscellanea/</link><pubDate>Thu, 14 Aug 2025 18:37:26 +0800</pubDate><guid>http://localhost:1313/miscellanea/miscellanea/</guid><description>&lt;p>这一部分主要整合一些不方便进行归类的内容，其中可能会涵盖&lt;code>PCB&lt;/code>设计，&lt;code>大模型微调&lt;/code>（你没听错，你甚至能在一个&lt;code>RUST MCU&lt;/code>的博客里看到微调大模型的技巧），&lt;code>上位机&lt;/code>开发，&lt;code>Rust嵌入式小项目&lt;/code>，&lt;code>C&lt;/code>嵌入式，&lt;code>Rust&lt;/code>编写实用工具等内容。&lt;/p>
&lt;hr></description></item></channel></rss>